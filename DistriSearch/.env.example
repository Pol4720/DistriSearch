# =============================================================================
# DistriSearch - Configuración Unificada
# =============================================================================
# Copiar este archivo a .env y ajustar los valores según el ambiente
# =============================================================================

# === Identificación del Nodo ===
NODE_ID=node_1
NODE_ROLE=slave                    # slave | master
MASTER_CANDIDATE=true              # Si puede ser elegido Master

# === Ambiente ===
ENVIRONMENT=development            # development | production
DEBUG=false

# === Red HTTP ===
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
EXTERNAL_IP=                       # IP pública (auto-detectada si vacío)
FRONTEND_PORT=8501
PUBLIC_URL=http://localhost:8000

# === Cluster UDP ===
HEARTBEAT_PORT=5000                # Puerto UDP para heartbeats
ELECTION_PORT=5001                 # Puerto UDP para elección de líder
HEARTBEAT_INTERVAL=5               # Segundos entre PINGs
HEARTBEAT_TIMEOUT=15               # Segundos para detectar falla

# === Peers del Cluster ===
# Formato: node_id:ip:http_port:heartbeat_port:election_port
# Separados por coma
CLUSTER_PEERS=

# === Multicast Discovery ===
MULTICAST_GROUP=239.255.0.1
MULTICAST_PORT=5353
DISCOVERY_INTERVAL=30

# === Replicación ===
REPLICATION_ENABLED=true
REPLICATION_FACTOR=2               # Número de réplicas por archivo
CONSISTENCY_MODEL=eventual         # eventual | strong
SYNC_INTERVAL_SECONDS=60

# === MongoDB ===
MONGO_URI=mongodb://localhost:27017
MONGO_DBNAME=distrisearch

# === Embeddings (Localización Semántica) ===
EMBEDDING_MODEL=all-MiniLM-L6-v2

# === Seguridad ===
JWT_SECRET_KEY=change-me-in-production-use-a-strong-secret
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
ADMIN_API_KEY=                     # API key para operaciones admin

# === SSL/TLS (Opcional) ===
ENABLE_SSL=false
SSL_CERT_FILE=/app/certs/distrisearch.crt
SSL_KEY_FILE=/app/certs/distrisearch.key

# === Frontend ===
DISTRISEARCH_BACKEND_URL=http://localhost:8000
DISTRISEARCH_BACKEND_PUBLIC_URL=http://localhost:8000
DISTRISEARCH_ADMIN_API_KEY=
